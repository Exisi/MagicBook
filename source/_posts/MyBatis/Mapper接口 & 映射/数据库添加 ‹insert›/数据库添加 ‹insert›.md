---
categories:
- MyBatis
tags:
- ‹insert›
date:
- 2022-11-27 7:24:21
---

<ul style="list-style-type:disc"><li><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">UsersMapper</span></span><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">.java</span></span></li></ul><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">&nbsp;</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">public interface UsersMapper {</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#00b0f0">&nbsp;</span></span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#00b0f0">public Integer add(Users user);</span></span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#00b0f0">&nbsp;</span></span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">}</span></span></p><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#ed7d31">&nbsp;</span></span></span></p><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">&nbsp;</span></span></p><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">&nbsp;</span></span></p><ul style="list-style-type:disc"><li><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">Users</span></span><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">Mapper.xml</span></span></li></ul><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#a5a5a5">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;<br>&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" <a data-cke-saved-href="http://-" href="http://-">"http://mybatis.org/dtd/mybatis-3-mapper.dtd</a>"&gt;</span></span></span></p><p style="margin-left: 40px;"><br><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#a5a5a5">&lt;mapper namespace="com.mybatis.dao.UsersMapper"&gt;</span></span></span></p><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#2151ff">&nbsp;</span></span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:blue">&lt;</span><span style="color:blue">insert</span> <span style="color:red">id</span><span style="color:blue">=</span><span style="color:#a31515">"</span><span style="color:#a31515">add</span><span style="color:#a31515">" </span><span style="color:red">parameterType</span><span style="color:blue">=</span><span style="color:#a31515">"</span>Integer<span style="color:#a31515">"</span><span style="color:blue">&gt;</span></span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">update user(id,name,adress)</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">value(#{id},#{name},#{adress})</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:blue">&lt;/insert&gt;</span></span></span></p><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:blue">&nbsp;</span></span></span></p><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#a5a5a5">&lt;/mapper&gt;</span></span></span></p><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:blue">&nbsp;</span></span></span></p><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#ed7d31">&nbsp;</span></span></span></p><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#ed7d31">&nbsp;</span></span></span></p><ul style="list-style-type:disc"><li><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">Test.java</span></span></li></ul><p><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;"><span style="color:#ed7d31">&nbsp;</span></span></span></p><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">@Test</span></span></p><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">public void addUser(User user) {</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">SqlSession sqlSession=null;</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">Integer count=0;</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">try{</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">sqlSession=MyBatisUtil.createSqlSession();</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">User user=new User()</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">user.setId(1);</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">user.setName("</span><span style="font-family:&quot;Microsoft YaHei UI&quot;">张三</span><span style="font-family:&quot;Comic Sans MS&quot;">")</span><span style="font-family:&quot;Microsoft YaHei UI&quot;">；</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">user.setAdress("</span><span style="font-family:&quot;Microsoft YaHei UI&quot;">北京</span><span style="font-family:&quot;Comic Sans MS&quot;">")</span><span style="font-family:&quot;Microsoft YaHei UI&quot;">；</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">count=sqlSession.<span style="color:#00b0f0">getMapper(UsersMapper.class).</span><span style="color:#00b0f0">add</span><span style="color:#00b0f0">(</span><span style="color:#00b0f0">user</span><span style="color:#00b0f0">);</span></span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">sqlSession.commit();</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">&nbsp;</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">System.out.println("count:"+count);</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">}catch(Exception e){</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">e.printStackTrace();</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">}finally{</span></span></p><p style="margin-left: 120px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">MyBatisUtil.closeSqlSession(sqlSession);</span></span></p><p style="margin-left: 80px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">}</span></span></p><p style="margin-left: 40px;"><span style="font-size:12.0pt"><span style="font-family:&quot;Comic Sans MS&quot;">}</span></span></p>